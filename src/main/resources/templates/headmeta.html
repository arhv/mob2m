<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head th:fragment="headmeta">
	<title>Mob2m</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/> 
	<link rel="icon" type="image/x-icon" href="/static/favicon.ico"/>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery.maskedinput/1.4.1/jquery.maskedinput.min.js"></script>	
	<!-- include the jQuery validation plugin -->
    <script type="text/javascript" th:src="@{/js/jquery.validate.min.js}" src="js/jquery.validate.min.js"></script>
    <!-- add the required customizations for Bootstrap -->
    <script type="text/javascript" th:src="@{/js/jquery.validate.bootstrap.js}" src="js/jquery.validate.bootstrap.js"></script>
	<script>
		jQuery(function($){
		   $("#phonenumber").mask("(99)(9)9999-9999");
		   $("#zipCode").mask("99999-999");		   	   
		});
	</script>
	
</head>

<head th:fragment="headmetaUsernameEmail">
	<title>Mob2m</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/> 
	<link rel="icon" type="image/x-icon" href="/static/favicon.ico"/>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/jquery.maskedinput/1.4.1/jquery.maskedinput.min.js"></script>		
	<!-- include the jQuery validation plugin -->
    <script type="text/javascript" th:src="@{/js/jquery.validate.min.js}" src="js/jquery.validate.min.js"></script>
    <!-- add the required customizations for Bootstrap -->
    <script type="text/javascript" th:src="@{/js/jquery.validate.bootstrap.js}" src="js/jquery.validate.bootstrap.js"></script>
	<!--  <script>
		jQuery(function($){
		   $("#phonenumber").mask("(99)(9)9999-9999");
		   $("#zipCode").mask("99999-999");		   	   
		});
	</script>-->
	
</head>


<body>
	<div th:fragment="menuheader">
		<nav class="navbar navbar-inverse navbar-fixed-top" >
		  <div class="container-fluid">
		    <div class="navbar-header">
			    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span> 
		      	</button>
			    <a class="navbar-brand" th:href="@{${@environment.getProperty('url.home')}}">Nome do Site</a>
		    </div>
		    <div class="collapse navbar-collapse" id="myNavbar">
			    <ul class="nav navbar-nav">
			      <li id="home" th:style="${styleValue}" class="active"><a th:href="@{${@environment.getProperty('url.home')}}">Home</a></li>
			      <li id="agenda" ><a th:href="@{${@environment.getProperty('url.agenda')}}">Agenda</a></li>
			      <li id="comandas"><a  th:href="@{${@environment.getProperty('url.comandas')}}">Comandas</a></li>	      
			      <li id="cadastro" th:style="${styleValue}" class="dropdown" th:remove="${fragmentCadastro}">
			        <a class="dropdown-toggle" data-toggle="dropdown" th:href="@{${@environment.getProperty('url.cadastro')}}">Cadastro<span class="caret"></span></a>
			        <ul class="dropdown-menu">
			          <li><a id="clientes" th:href="@{${@environment.getProperty('url.cadastro.clientes')}}">Clientes</a></li>			          
			          <li th:style="@{${@environment.getProperty('li.cadastro.fornecedores')}}"><a id="profissionais" th:href="@{${@environment.getProperty('url.cadastro.profissionais')}}">Profissionais</a></li>   
			          <li><a id="fornecedores" th:href="@{${@environment.getProperty('url.cadastro.fornecedores')}}">Fornecedores</a></li>	
			          <li><a id="fornecedores" th:href="@{${@environment.getProperty('url.cadastro.servicos')}}">Serviços</a></li>	
			          <li><a id="fornecedores" th:href="@{${@environment.getProperty('url.cadastro.produtos')}}">Produtos</a></li>	           
			        </ul>
			      </li>	 
			      <li id="servicos" th:style="${styleValue}" class="dropdown" th:remove="${fragmentServicos}">
			        <a class="dropdown-toggle" data-toggle="dropdown" th:href="@{${@environment.getProperty('url.servicos')}}">Serviços<span class="caret"></span></a>
			        <ul class="dropdown-menu">
			          <li><a id="detalhes" th:href="@{${@environment.getProperty('url.servicos.detalhes')}}">Detalhes por profissional</a></li>			          
			          <li><a id="promocoes" th:href="@{${@environment.getProperty('url.servicos.promocoes')}}">Promoções (Pacotes)</a></li>	                   
			        </ul>
			      </li>	    
			      <li id="produtos" th:style="${styleValue}" class="dropdown" th:remove="${fragmentProdutos}">
			        <a class="dropdown-toggle" data-toggle="dropdown" th:href="@{${@environment.getProperty('url.produtos')}}">Produtos<span class="caret"></span></a>
			        <ul class="dropdown-menu">			          	
			          <li><a id="detalhes" th:href="@{${@environment.getProperty('url.produtos.detalhes')}}">Detalhes (revenda ou consumo interno)</a></li>			          
			          <li><a id="estoque" th:href="@{${@environment.getProperty('url.produtos.estoque')}}">Estoque</a></li>	                   
			        </ul>
			      </li>	
			      <li id="administrativo" th:style="${styleValue}" class="dropdown" th:remove="${fragmentAdministrativo}">
			        <a  class="dropdown-toggle" data-toggle="dropdown" th:href="@{${@environment.getProperty('url.administrativo')}}">Administrativo<span class="caret"></span></a>
			        <ul class="dropdown-menu">
			          <li><a id="permissoes" th:href="@{${@environment.getProperty('url.administrativo.permissoes')}}">Permissões</a></li>
			          <li><a id="permissoes" th:href="@{/unidades}">Unidades de Prestação de Serviços</a></li>        		          
			          <li><a id="usuariosmaster" th:href="@{${@environment.getProperty('url.usuarios.master')}}">Usuários Master</a></li>	                   
			        </ul>
			      </li>	
			      <li id="financeiro" th:style="${styleValue}" class="dropdown" th:remove="${fragmentFinanceiro}">
			        <a  class="dropdown-toggle" data-toggle="dropdown" th:href="@{${@environment.getProperty('url.financeiro')}}">Financeiro<span class="caret"></span></a>
			        <ul class="dropdown-menu">
			          <li><a id="fluxodecaixa" th:href="@{${@environment.getProperty('url.financeiro')}}">Fluxo de caixa</a></li>     		          		          	                   
			        </ul>
			      </li>	           			      
			    </ul>
			    <ul class="nav navbar-nav navbar-right">
			      <li><a href="#"><span th:text="${userLogged}"></span ></a></li>
			      <li><a href="/logout"><span class="glyphicon glyphicon-log-in"></span>Sair</a></li>
			    </ul>
			</div>  
		  </div>
		</nav>
	</div>	
	
	<div th:fragment="findAllUsers">
		<div class="panel panel-default">
	        <div class="panel-heading">
	            <strong><br/><br/><br/>Usuários cadastrados</strong>
	            <a class="btn btn-sm btn-success" th:href="@{/verificaremailusuario}" style="margin-left:20px;">Adicionar</a>            
	            <input id="userSearch" type="text" class="" placeholder="Procurar por nome" onkeyup="myFunction()" style="margin-left:40px; width:300px"></input>
	        </div>
	        <div class="panel-body" style="overflow-y:auto;height:300px">
	            <div class="table-responsive">
	                <table id="allUsers" class="table table-sm table-striped table-hover table-bordered">
	                    <thead>
	                        <tr>
	                            <th>ID</th>
	                            <th>Ativo</th>
	                            <th>Nome completo</th>
	                            <th>Nome de usuário</th>
	                            <th>Email</th>	                            
	                            <th>Telefone</th>
	                            <!--  <th>Endereço</th>                      
	                            <th>CEP</th>
	                            <th>Cidade</th>
	                            <th>Estado</th> 
	                            <th>Data de atualização</th>
	                            <th>Atualização realizada por: </th> -->                
						     </tr>
	                    </thead>
	                    <tbody>
	                        <tr th:each="user : ${userList}">
	                            <td th:text="${user.id}"></td>
	                            <td ><input type="checkbox" name="mycheckbox" th:checked="${user.active}" disabled="disabled"/></td>
	                            <td th:text="${user.name}"></td>
	                            <td th:text="${user.username}"></td>
	                            <td th:text="${user.email}"></td>	                            
	                            <td th:text="${user.phonenumber}"></td>
	                            <!-- <td th:text="${user.address}"></td>
	                            <td th:text="${user.zipCode}"></td>
	                            <td th:text="${user.city}"></td>
	                            <td th:text="${user.state}"></td>
	                            <td th:text="${#dates.format(user.insertdate, 'dd/MM/yyyy')}"></td>
	                            <td th:text="${user.insertby}"></td> -->
	                            <td>
	                                <div class="btn-group pull-right">
	                                    <a class="btn btn-sm btn-primary" th:href="@{/detalhes/{id}(id=${user.id})}" >Detalhes</a>
	                                   <!--  <a class="delete btn btn-sm btn-danger" th:href="@{/apagarusuario/{id}(id=${user.id})}">Excluir</a> -->
	                               </div>
	                            </td>
	                        </tr>
	                    </tbody>
	                </table>
	            </div>
	        </div>
	        <div class="panel-footer">
	            <a class="btn btn-sm btn-success" th:href="@{/verificaremailusuario}" >Adicionar</a>
	        </div>
	        <script type="text/javascript" th:src="@{/js/searchName.js}" src="js/searchName.js"></script> 
	    </div>	
	  </div>	
	
	<div th:fragment="checkNewUsernameEmail">
		<div class="panel panel-default">
	        <div class="panel-heading">
	            <strong><br/><br/><br/>Cadastro de Usuário</strong>	            
	        </div>
	        <div class="panel-body">
	            <form id="formNewUsernameEmail" class="form-horizontal" th:object="${checkUsernameEmail}" th:action="@{/adicionar}" method="GET" style="margin: 10px" >
	                <div class="form-group">
	                    <fieldset>	                        
	                         <div class="form-group row">
	                            <div class="col-md-4">	                            	
		                            	<label for="usernameCheck">Nome de usuário</label>	                                
		                                <input id="usernameCheck" type="text" class="form-control input-sm" th:field="*{username}" th:required="required"></input>		                                 
		                                <button id="checkUsername" >Verificar nome de usuário </button>  		                                                  
	                            </div>
	                         </div>	                       
	                         <div id="emailCheck" class="form-group row">                                                          
	                            <div class="col-md-4" >
	                                <label for="userEmailCheck">Email</label>
	                                <input id="userEmailCheck" type="text" class="form-control input-sm" th:field="*{email}" th:required="required"></input>
	                                <button id="checkUserEmail" >Verificar email </button> 	                                
	                            </div>	                          
	                     	</div>                        
	                    </fieldset>
	                </div>
	                <div id="saveCancelButtonsUsernameEmail">
		                <div class="form-group row">
		                	<button id="btnSubmitEmailUsername" type="submit" class="btn btn-sm btn-primary">Completar Cadastro</button>		                    
		                    <a th:href="@{${@environment.getProperty('url.usuarios.master')}}" class="btn btn-sm btn-default">Cancelar</a>
		                </div>
		            </div>
	            </form>
	        </div>
	        
	  
	    	<script type="text/javascript" th:src="@{/js/validateUsername.js}" src="js/validateUsername.js"></script>
	    	<script type="text/javascript" th:src="@{/js/validateUserEmail.js}" src="js/validateUserEmail.js"></script> 	  
	    	<script type="text/javascript" th:src="@{/js/hideUserEmailSaveButton.js}" src="js/hideUserEmailSaveButton.js"></script> 
	    	<script type="text/javascript" th:src="@{/js/searchName.js}" src="js/searchName.js"></script> 
    	</div>  
	</div>
	
	<div th:fragment="addUsers">
		<div class="panel panel-default">
	        <div class="panel-heading">
	            <strong><br/><br/><br/>Cadastro de Usuário</strong>	            
	        </div>
	        <div class="panel-body">
	            <form id="formNewUser" class="form-horizontal" th:object="${user}" th:action="@{${@environment.getProperty('url.usuarios.master.save')}}" method="POST" style="margin: 10px" >
	                <div class="form-group">
	                    <fieldset>
	                        <!--<div class="form-group row">
	                            <div class="col-md-4">
	                                <label>ID</label> 
	                                <input type="text" class="form-control input-sm" th:field="*{id}" readOnly="readonly"/>
	                            </div>
	                        </div>  
	                         <div class="form-group row">	                         	
		                            <div class="col-md-4">
		                            	<label>Ativo</label>
		                                <input type="checkbox" name="mycheckbox" th:checked="*{active}" />
		                            </div>	                         	
	                         </div>-->
	                         <div class="form-group row">
	                            <div class="col-md-4">	                            	
		                            	<label for="username">Nome de usuário</label>	                                
		                                <input id="username" type="text" class="form-control input-sm" th:field="*{username}" th:required="required"></input>                                           
	                            </div>
	                         </div>
	                      
	                         <div class="form-group row">                                                          
	                            <div class="col-md-4" >
	                                <label for="userEmail">Email</label>
	                                <input id="userEmail" type="email" class="form-control input-sm" th:field="*{email}" th:required="required"></input>	                                
	                            </div>
	                        </div>
	                        <div class="form-group row">
	                            <div class="col-md-4">
	                                <label for="phonenumber" >Telefone</label>
	                                <input id="phonenumber" type="text" class="form-control input-sm" th:field="*{phonenumber}" th:required="required" ></input>                        	
	                            </div>
	                        </div>	 
	                        <div class="form-group row">
	                            <div class="col-md-4" >
	                                <label for="userPassword" >Senha</label> 
	                                <input id="userPassword" type="password" class="form-control input-sm" th:field="*{password}" th:required="required"></input>                       
	                            </div>
	                        </div>   
	                        <div class="form-group row">
	                            <div class="col-md-4">
	                                <label for="fullName" >Nome completo</label> 
	                                <input id="fullName" type="text" class="form-control input-sm" th:field="*{name}" th:required="required"></input>
	                            </div>	                            
	                        </div>             
				           <div class="form-group row">
	                            <div class="col-md-4" >
	                                <label>Endereço</label>
	                                <input type="text" class="form-control input-sm" th:field="*{address}"/>
	                            </div>
	                        </div>  
	                        <div class="form-group row">
	                            <div class="col-md-4" >
	                                <label>CEP</label>
	                                <input id="zipCode" type="text" class="form-control input-sm" th:field="*{zipCode}"/>
	                            </div>
	                        </div> 					
				          <!-- <div class="form-group row">
	                            <div class="col-md-4"  >
	                                <label>País</label>
	                                <div class="dropdown">
	                                	<select id="pais" class="form-control input-sm" th:disabled="disabled"></select>
	                                </div>
	                                <input type="text" class="form-control input-sm" th:field="*{pais}"/>
	                            </div>  
	                        </div> -->
	                         <div class="form-group row">
	                            <div class="col-md-4" >
	                                <label id="campo_estado">Estado</label>
	                                 <div class="dropdown">
	                                	<select id="estado" class="form-control input-sm" th:field="*{stateName}" >	                                		
	                                		<option th:each="stateList : ${state}" th:value="${stateList.cod_estados}" th:text="${stateList.stateName}" th:selected="${stateList.cod_estados==26}"> </option>
	                                	</select>
	                                </div>
	                            </div>
	                        </div> 
	                         <div class="form-group row">
	                            <div class="col-md-4"  >
	                                <label id="campo_cidade">Cidade</label>
	                                <div class="dropdown">
	                              	  <select id="cidade" class="form-control input-sm" th:field="*{cityName}">
	                              	  	<option th:each="cityList : ${city}" th:value="${cityList.cod_cidades}" th:text="${cityList.cityName}" th:selected="${cityList.cityName==9432}"> </option> 
	                              	  </select>
	                              	</div>
	                                
	                            </div>
	                        </div>  	                                           
	                    </fieldset>
	                </div>	              
		                <div class="form-group row">
		                    <button type="submit" class="btn btn-sm btn-primary">Salvar</button>
		                    <a th:href="@{${@environment.getProperty('url.usuarios.master')}}" class="btn btn-sm btn-default">Cancelar</a>
		                </div>        
	            </form>
	        </div>	        
	        
    	<!-- define validation rules and activate validation -->
	    <script type="text/javascript" th:src="@{/js/validationUserRules.js}" src="js/validationUserRules.js"></script>	    
	    <script type="text/javascript" th:src="@{/js/paisEstadoCidade.js}" src="js/paisEstadoCidade.js"></script>   
	    <script type="text/javascript" th:src="@{/js/validateUsernameEmail.js}" src="js/validateUsernameEmail.js"></script>        
    	</div>  	
    </div>
    
    <div th:fragment="editUsers">
		<div class="panel panel-default">
	        <div class="panel-heading">
	            <strong><br/><br/><br/>Cadastro de Usuário</strong>
	        </div>
	        <div class="panel-body">
	            <form class="form-horizontal" th:object="${editUsers}" th:action="@{/atualizarusuario}" method="POST" style="margin: 10px">
	                <div class="form-group">
	                    <fieldset>
	                        <div class="form-group row">
	                            <div class="col-md-4">
	                                <label>ID</label> 
	                                <input type="text" class="form-control input-sm" th:field="*{id}" readOnly="readonly"/>
	                            </div>
	                        </div>
	                        <!-- <div class="form-group row">		
	                            <div class="col-md-4">
	                                <label>Código Usuário</label> 
	                                <input type="text" class="form-control input-sm" th:field="*{code_pk_tbl_user}"/>
	                            </div>
	                        </div> -->
	                         <div class="form-group row">	                         	
	                            <div class="col-md-4">
	                            	<label>Ativo</label><br/>
	                                <input type="checkbox" name="mycheckbox" th:field="*{active}" />
	                            </div>
	                         </div>
	                         <div class="form-group row">		
	                            <div class="col-md-4">
	                                <label>Nome completo</label> 
	                                <input type="text" class="form-control input-sm" th:field="*{name}"/>
	                            </div>
	                        </div>                    
	                        <div class="form-group row">
	                            <div class="col-md-4">
	                            	<label>Nome de usuário</label>
	                                <input type="text" class="form-control input-sm" id="username" th:field="*{username}" readOnly="readonly"/>
	                            </div>
	                         </div>
	                        <div class="form-group row">                                                          
	                            <div class="col-md-4" >
	                                <label>Email</label>
	                                <input type="text" class="form-control input-sm" th:field="*{email}"/>
	                            </div>
	                        </div>
	                       <!--  <div class="form-group row">
	                            <div class="col-md-4" >
	                                <label>Senha</label> 
	                                <input type="password" class="form-control input-sm" th:field="*{password}"/>
	                            </div>
	                        </div>   -->                                           
	                        <div class="form-group row">
	                            <div class="col-md-4">
	                                <label>Telefone</label>
	                                <input type="text" class="form-control input-sm" th:field="*{phonenumber}"/>
	                            </div>
	                        </div> 
	                        <div class="form-group row">
	                            <div class="col-md-4" >
	                                <label>Endereço</label>
	                                <input type="text" class="form-control input-sm" th:field="*{address}"/>
	                            </div>
	                        </div>  
	                        <div class="form-group row">
	                            <div class="col-md-4" >
	                                <label>CEP</label>
	                                <input type="text" class="form-control input-sm" th:field="*{zipCode}"/>
	                            </div>
	                        </div>  
	                        <!--  <div class="form-group row">
	                            <div class="col-md-4"  >
	                                <label>País</label>
	                                <div class="dropdown">
	                                	<select id="pais" class="form-control input-sm" th:disabled="disabled"></select>
	                                </div>
	                                <input type="text" class="form-control input-sm" th:field="*{pais}"/>
	                            </div>
	                        </div> -->
	                         <div class="form-group row">
	                            <div class="col-md-4" >
	                                <label id="campo_estado">Estado</label>
	                                <div class="dropdown">
	                                	<select id="estado" class="form-control input-sm" th:field="*{stateName}" >	                                		
	                                		<option th:each="stateList : ${state}" th:value="${stateList.cod_estados}" th:text="${stateList.stateName}" th:selected="${stateList.cod_estados==userState}"> </option>
	                                	</select>
	                                </div>	                               
	                            </div>
	                        </div> 
	                         <div class="form-group row">
	                            <div class="col-md-4"  >
	                                <label id="campo_cidade">Cidade</label>
	                                <div class="dropdown">
	                              	  <select id="cidade" class="form-control input-sm" th:field="*{cityName}">	                              	  	
	                                	<option th:each="cityList : ${city}" th:value="${cityList.cod_cidades}" th:text="${cityList.cityName}" th:selected="${userCity}"> </option>     
	                              	  </select>
	                              	</div>
	                                <!-- <input type="text" class="form-control input-sm" th:field="*{city}"/>-->
	                            </div>
	                        </div>                       
	                    </fieldset>
	                </div>
	                <div class="form-group row">
	                    <button type="submit" class="btn btn-sm btn-primary">Salvar</button>
	                    <a th:href="@{${@environment.getProperty('url.usuarios.master')}}" class="btn btn-sm btn-default">Cancelar</a>
	                </div>
	            </form>
	        </div>
	        <script type="text/javascript" th:src="@{/js/validationUserRules.js}" src="js/validationUserRules.js"></script>	    
	     	<script type="text/javascript" th:src="@{/js/paisEstadoCidade.js}" src="js/paisEstadoCidade.js"></script>   	
    	</div>    	
    </div>
	

</body>

</html>